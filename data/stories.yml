version: "3.1"

stories:

- story: save user
  steps:
  - intent: greet
  - action: action_saveUser

#TO DO: develop story where user starts chat
- story: sad
  steps:
  - intent: mood_unhappy
  - action: action_saveUser
  - action: utter_howLongChange

# SLEEP CONVERSATIONS
- story: conv sleep start
  steps:
  - intent: start
  - slot_was_set:
    - sleep: true
  - action: action_initiate_conversation
  - or:
    - intent: affirm
    - intent: deny
  - action: utter_howLongChange

- story: less than week sleep
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_howLongChange
  - intent: deny
  - action: utter_askSleep

- story: more than week sleep
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_howLongChange
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_howLong
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleep

- story: sleeps more than 8 hours
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_askSleep
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askSleepHours
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepTrouble

- story: sleeps 8 hours or less
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_askSleep
  - intent: deny
  - action: utter_askSleepTrouble

- story: has sleep trouble
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_askSleepTrouble
  - or:
    - intent: troubleSleep
    - intent: affirm
    - intent: notSure
  - action: utter_askSleepTroubleTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepWakeup

- story: has no sleep trouble
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_askSleepTrouble
  - or:
    - intent: noTroubleSleep
    - intent: deny
  - action: utter_askSleepWakeup

- story: has wakeup trouble
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_askSleepWakeup
  - or:
    - intent: troubleSleep
    - intent: affirm 
    - intent: notSure
  - action: utter_askSleepWakeupTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: has no wakeup trouble
  steps:
  - slot_was_set:
    - sleep: true
  - action: utter_askSleepWakeup
  - or:
    - intent: noTroubleSleep
    - intent: deny 
  - action: action_scoreCheck
  - checkpoint: scoreCheck

#END SLEEP CONVERSATIONS


# ACTIVITY CONVERSATIONS

- story: conv activity start
  steps:
  - intent: start
  - slot_was_set:
    - sleep: false
  - action: action_initiate_conversation
  - or:
    - intent: affirm
    - intent: deny
  - action: utter_howLongChange

- story: more than week activity
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_howLongChange
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_howLong
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askActivity

- story: change less than week activity
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_howLongChange
  - intent: deny
  - action: utter_askActivity

- story: has activity
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askActivity
  - intent: affirm 
  - action: utter_askActivityEnjoy

- story: enjoy activity usual
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askActivityEnjoy
  - intent: deny
  - action: utter_askInterest

- story: enjoy activity less than usual
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askActivityEnjoy
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askActivityEnjoyLess
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askInterest

- story: has no activity
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askActivity
  - intent: deny 
  - action: utter_askActivityNo
  - or:
    - intent: reasonActivity
    - intent: notSure
  - action: utter_askInterest

- story: has interest
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askInterest
  - intent: affirm
  - action: utter_askInterestLevel
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askEnergy

- story: has no interest
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askInterest
  - intent: deny
  - action: utter_askEnergy

- story: energy change
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askEnergy
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askTired
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askPhysicalEnergy

- story: no energy change
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askEnergy
  - intent: deny
  - action: utter_askPhysicalEnergy

- story: weighted down
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askPhysicalEnergy
  - intent: affirm
  - action: utter_askPhysicalEnergyInterfere

- story: not weighted down
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askPhysicalEnergy
  - intent: deny
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: interferes
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askPhysicalEnergyInterfere
  - intent: affirm
  - action: utter_askPhysicalEnergyTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: doesn't interfere
  steps:
  - slot_was_set:
    - sleep: false
  - action: utter_askPhysicalEnergyInterfere
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

# END ACTIVITY CONVERSATIONS


# SCORE CHECKS

- story: score high ask general
  steps:
  - checkpoint: scoreCheck
  - intent: general
  - action: utter_askMood

- story: score low say bye
  steps:
  - checkpoint: scoreCheck
  - intent: goodbye
  - action: utter_goodbye  

- story: final score low
  steps:
  - checkpoint: finalScore
  - intent: goodbye
  - action: utter_goodbye

- story: final score high
  steps:
  - checkpoint: finalScore
  - intent: therapy
  - action: utter_cheer_up

# END SCORE CHECKS


# GENERAL QUESTIONS

- story: good mood
  steps:
  - action: utter_askMood
  - or:
    - intent: mood_great
    - intent: deny
  - action: utter_askAnxious

- story: bad mood
  steps:
  - action: utter_askMood
  - or:
    - intent: mood_unhappy
    - intent: affirm
    - intent: notSure
  - action: utter_howOftenMood
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askAnxious

- story: is anxious
  steps:
  - action: utter_askAnxious
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askAnxiousTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askIrritable

- story: is not anxious
  steps:
  - action: utter_askAnxious
  - intent: deny
  - action: utter_askIrritable

- story: is irritable
  steps:
  - action: utter_askIrritable
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askIrritableTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askSlowedDown

- story: is not irritable
  steps:
  - action: utter_askIrritable
  - intent: deny
  - action: utter_askSlowedDown

- story: is not slowed down
  steps:
  - action: utter_askSlowedDown
  - intent: deny
  - action: utter_askConcentration

- story: can concentrate
  steps:
  - action: utter_askConcentration
  - intent: deny
  - action: utter_askFuture

- story: cannot concentrate
  steps:
  - action: utter_askConcentration
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askConcentrationTrouble
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askFuture

- story: is slowed down
  steps:
  - action: utter_askSlowedDown
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askSlowedDownSeverity
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askConcentration
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askFuture

- story: is pessmitstic
  steps:
  - action: utter_askFuture
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askPessimistic
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askWeight

- story: is not pessimistic
  steps:
  - action: utter_askFuture
  - intent: deny
  - action: utter_askWeight

- story: no weight change
  steps:
  - action: utter_askWeight
  - intent: deny
  - action: utter_askAppetite

- story: weight change
  steps:
  - action: utter_askWeight
  - or:
    - intent: notSure
    - intent: affirm
  - action: utter_askWeightIncOrDec

- story: weight increase
  steps:
  - action: utter_askWeightIncOrDec
  - intent: increase
  - action: utter_askWeightInc
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askAppetite

- story: weight decrease
  steps:
  - action: utter_askWeightIncOrDec
  - intent: decrease
  - action: utter_askWeightDec
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askAppetite

- story: no appetite change
  steps:
  - action: utter_askAppetite
  - intent: deny
  - action: action_scoreFinal

- story: appetite change
  steps:
  - action: utter_askAppetite
  - or:
    - intent: notSure
    - intent: affirm
  - action: utter_askAppetiteIncOrDec

- story: appetite increase
  steps:
  - action: utter_askAppetiteIncOrDec
  - intent: increase
  - action: utter_askAppetiteInc
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: action_scoreFinal
  - checkpoint: finalScore

- story: appetite decrease
  steps:
  - action: utter_askAppetiteIncOrDec
  - intent: decrease
  - action: utter_askAppetiteDec
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: action_scoreFinal
  - checkpoint: finalScore

# END GENERAL QUESTIONS
