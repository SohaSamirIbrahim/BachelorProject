version: "3.1"

stories:

- story: conversation sleep yes trouble yes wakeup
  steps:
  - intent: start
  - slot_was_set:
    - sleep: true
  - action: utter_start
  - or:
    - intent: affirm
    - intent: deny
  # - action: utter_askchangenormal
  # - or:
  #   - intent: affirm
  #   - intent: deny
  - action: utter_howLongChange
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleep
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepTrouble
  - or:
    - intent: troubleSleep
    - intent: affirm
    - intent: notSure
  - action: utter_askSleepTroubleTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepWakeup
  - or:
    - intent: troubleSleep
    - intent: affirm 
    - intent: notSure
  - action: utter_askSleepWakeupTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: conversation sleep no trouble no wakeup
  steps:
  - intent: start
  - slot_was_set:
    - sleep: true
  - action: utter_start
  - or:
    - intent: affirm
    - intent: deny
  # - action: utter_askchangenormal
  # - or:
  #   - intent: affirm
  #   - intent: deny
  - action: utter_howLongChange
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleep
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepTrouble
  - or:
    - intent: noTroubleSleep
    - intent: deny
  - action: utter_askSleepWakeup
  - or:
    - intent: noTroubleSleep
    - intent: deny 
  - action: action_scoreCheck
  - checkpoint: scoreCheck
  
- story: conversation sleep yes trouble no wakeup
  steps:
  - intent: start
  - slot_was_set:
    - sleep: true
  - action: utter_start
  - or:
    - intent: affirm
    - intent: deny
  # - action: utter_askchangenormal
  # - or:
  #   - intent: affirm
  #   - intent: deny
  - action: utter_howLongChange
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleep
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepTrouble
  - or:
    - intent: troubleSleep
    - intent: affirm
    - intent: notSure
  - action: utter_askSleepTroubleTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepWakeup
  - or:
    - intent: noTroubleSleep
    - intent: deny 
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: conversation sleep no trouble yes wakeup
  steps:
  - intent: start
  - slot_was_set:
    - sleep: true
  - action: utter_start
  - or:
    - intent: affirm
    - intent: deny
  # - action: utter_askchangenormal
  # - or:
  #   - intent: affirm
  #   - intent: deny
  - action: utter_howLongChange
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleep
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askSleepTrouble
  - or:
    - intent: noTroubleSleep
    - intent: deny
  - action: utter_askSleepWakeup
  - or:
    - intent: troubleSleep
    - intent: affirm
    - intent: notSure 
  - action: utter_askSleepWakeupTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: conversation yes activity 
  steps:
  - intent: start
  - slot_was_set:
    - sleep: false
  - action: utter_start
  - or:
    - intent: affirm
    - intent: deny
  # - action: utter_askchangenormal
  # - or:
  #   - intent: affirm
  #   - intent: deny
  - action: utter_howLongChange
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askActivity
  - intent: affirm 
  - action: utter_askActivityEnjoy
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askInterest
  - checkpoint: interest

- story: conversation no activity 
  steps:
  - intent: start
  - slot_was_set:
    - sleep: false
  - action: utter_start
  - or:
    - intent: affirm
    - intent: deny
  # - action: utter_askchangenormal
  # - or:
  #   - intent: affirm
  #   - intent: deny
  - action: utter_howLongChange
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askActivity
  - intent: deny 
  - action: utter_askActivityNo
  - or:
    - intent: reasonActivity
    - intent: notSure
  - action: utter_askInterest
  - checkpoint: interest

- story: has interest and has energy
  steps:
  - checkpoint: interest
  # - action: utter_askInterest
  - intent: affirm
  - action: utter_askInterestLevel
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askEnergy
  - intent: deny
  - action: utter_askPhysicalEnergy
  - checkpoint: physcialenergy
  # - checkpoint: energy

- story: has interest and no energy
  steps:
  - checkpoint: interest
  # - action: utter_askInterest
  - intent: affirm
  - action: utter_askInterestLevel
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askEnergy
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askTired
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askPhysicalEnergy
  - checkpoint: physcialenergy

- story: has no interest and has energy
  steps:
  - checkpoint: interest
  # - action: utter_askInterest
  - intent: deny
  - action: utter_askEnergy
  - intent: deny
  - action: utter_askPhysicalEnergy
  - checkpoint: physcialenergy
  # - checkpoint: energy

- story: has no interest and no energy
  steps:
  - checkpoint: interest
  # - action: utter_askInterest
  - intent: deny
  - action: utter_askEnergy
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askTired
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askPhysicalEnergy
  - checkpoint: physcialenergy

  
# # - story: energy checkpoint not tired
# #   steps:
# #   - checkpoint: energy
# #   - action: utter_askEnergy
# #   - intent: deny
# #   - checkpoint: physcialenergy

# # - story: energy checkpoint tired
# #   steps:
# #   - checkpoint: energy
# #   - action: utter_askEnergy
# #   - or:
# #     - intent: affirm
# #     - intent: notSure
# #   - action: utter_askTired
# #   - intent: score
# #     entities:
# #       - value: 1  
# #   - action: action_scoreAdd  
# #   - checkpoint: physcialenergy

- story: pe checkpoint yes leaden yes interfere
  steps:
  - checkpoint: physcialenergy
  # - action: utter_askPhysicalEnergy
  - intent: affirm
  - action: utter_askPhysicalEnergyInterfere
  - intent: affirm
  - action: utter_askPhysicalEnergyTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: pe checkpoint yes leaden no interfere
  steps:
  - checkpoint: physcialenergy
  # - action: utter_askPhysicalEnergy
  - intent: affirm
  - action: utter_askPhysicalEnergyInterfere
  - intent: deny
  - action: action_scoreAdd
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: pe checkpoint no leaden
  steps:
  - checkpoint: physcialenergy
  # - action: utter_askPhysicalEnergy
  - intent: deny
  - action: action_scoreCheck
  - checkpoint: scoreCheck

- story: score > 3 and mood good 
  steps:
  - checkpoint: scoreCheck
  # - action: action_scoreCheck
  - intent: general
  - action: utter_askMood
  - or:
    - intent: mood_great
    - intent: deny
  - action: utter_askAnxious
  - checkpoint: anxious
  # - checkpoint: general
  # ask general questions

- story: score > 3 and mood bad 
  steps:
  - checkpoint: scoreCheck
  # - action: action_scoreCheck
  - intent: general
  - action: utter_askMood
  - or:
    - intent: mood_unhappy
    - intent: affirm
    - intent: notSure
  - action: utter_howOftenMood
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd
  - action: utter_askAnxious
  - checkpoint: anxious

- story: score < 3
  steps:
  - checkpoint: scoreCheck
  # - action: action_scoreCheck
  - intent: goodbye
  - action: utter_goodbye
  # checkup later on you

# # - story: general mood good
# #   steps:
# #   - checkpoint: general
# #   - action: utter_askMood
# #   - or:
# #     - intent: mood_great
# #     - intent: deny
# #   - checkpoint: anxious

# # - story: general mood bad
# #   steps:
# #   - checkpoint: general
# #   - action: utter_askMood
# #   - or:
# #     - intent: mood_unhappy
# #     - intent: affirm
# #     - intent: notSure
# #   - action: utter_howOftenMood
# #   - intent: score
# #     entities:
# #       - value: 1  
# #   - action: action_scoreAdd  
# #   - checkpoint: anxious

- story: is not anxious and not irritable
  steps:
  - checkpoint: anxious
  # - action: utter_askAnxious
  - intent: deny
  - action: utter_askIrritable
  - intent: deny
  - action: utter_askSlowedDown
  - checkpoint: slowedDown
  # - checkpoint: irritable

- story: is not anxious and is irritable
  steps:
  - checkpoint: anxious
  # - action: utter_askAnxious
  - intent: deny
  - action: utter_askIrritable
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askIrritableTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askSlowedDown
  - checkpoint: slowedDown


- story: is anxious and not irritable
  steps:
  - checkpoint: anxious
  # - action: utter_askAnxious
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askAnxiousTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askIrritable
  - intent: deny
  - action: utter_askSlowedDown
  - checkpoint: slowedDown
  # - checkpoint: irritable

- story: is anxious and irritable
  steps:
  - checkpoint: anxious
  # - action: utter_askAnxious
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askAnxiousTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askIrritable
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askIrritableTime
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askSlowedDown
  - checkpoint: slowedDown


# # - story: is not irritable 
# #   steps:
# #   - checkpoint: irritable
#   # - action: utter_askIrritable
#   # - intent: deny
#   # - checkpoint: slowedDown

# # - story: is irritable 
# #   steps:
# #   - checkpoint: irritable
#   # - action: utter_askIrritable
#   # - or:
#   #   - intent: affirm
#   #   - intent: notSure
#   # - action: utter_askIrritableTime
#   # - intent: score
#   #   entities:
#   #     - value: 1  
#   # - action: action_scoreAdd  
# #   - checkpoint: slowedDown

- story: is not slowed down
  steps:
  - checkpoint: slowedDown
  # - action: utter_askSlowedDown
  - intent: deny
  - action: utter_askConcentration
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askFuture
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askWeight
  - checkpoint: weight
  # - checkpoint: concentrationFuture

- story: is slowed down
  steps:
  - checkpoint: slowedDown
  # - action: utter_askSlowedDown
  - or:
    - intent: affirm
    - intent: notSure
  - action: utter_askSlowedDownSeverity
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askConcentration
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askFuture
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askWeight
  - checkpoint: weight
  # - checkpoint: concentrationFuture

# # - story: concentration and future
# #   steps:
# #   - checkpoint: concentrationFuture
#   # - action: utter_askConcentration
#   # - intent: score
#   #   entities:
#   #     - value: 1  
#   # - action: action_scoreAdd  
#   # - action: utter_askFuture
#   # - intent: score
#   #   entities:
#   #     - value: 1  
#   # - action: action_scoreAdd  
#   # - checkpoint: weight

- story: weight change inc
  steps:
  - checkpoint: weight
  # - action: utter_askWeight
  - or:
    - intent: notSure
    - intent: affirm
  - action: utter_askWeightIncOrDec
  - intent: increase
  - action: utter_askWeightInc
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: utter_askAppetite
  - checkpoint: appetite

- story: weight change dec
  steps:
  - checkpoint: weight
  # - action: utter_askWeight
  - or:
    - intent: notSure
    - intent: affirm
  - action: utter_askWeightIncOrDec
  - intent: decrease
  - action: utter_askWeightDec
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: utter_askAppetite
  - checkpoint: appetite

- story: weight no change
  steps:
  - checkpoint: weight
  # - action: utter_askWeight
  - intent: deny
  - action: utter_askAppetite
  - checkpoint: appetite

- story: appetite change inc
  steps:
  - checkpoint: appetite
  # - action: utter_askAppetite
  - or:
    - intent: notSure
    - intent: affirm
  - action: utter_askAppetiteIncOrDec
  - intent: increase
  - action: utter_askAppetiteInc
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd  
  - action: action_scoreFinal

- story: appetite change dec
  steps:
  - checkpoint: appetite
  # - action: utter_askAppetite
  - or:
    - intent: notSure
    - intent: affirm
  - action: utter_askAppetiteIncOrDec
  - intent: decrease
  - action: utter_askAppetiteDec
  - intent: score
    entities:
      - value: 1  
  - action: action_scoreAdd 
  - action: action_scoreFinal

- story: appetite no change
  steps: 
  - checkpoint: appetite
  # - action: utter_askAppetite
  - intent: deny
  - action: action_scoreFinal
